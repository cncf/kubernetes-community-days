{{ $isHome      := .IsHome }}
{{ $pageType    := cond $isHome "website" "article" }}
{{ $isEventRoot := and (eq .Section "events") (eq .File.BaseFileName "_index") }}
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />

<!-- OpenGraph metadata-->
<meta property="og:title" content="{{ .Title }}">
<meta property="og:url" content="{{ .Permalink }}">
<meta property="og:locale" content="en_US">
{{ if not $isHome }}
<meta property="og:site_name" content="{{ site.Title }}">
{{ end }}
<meta name="og:type" content="{{ $pageType }}">

<!-- Twitter Card metadata -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@k8scommunitydays">
<meta name="twitter:creator" content="@k8scommunitydays">

<link rel="canonical" content="{{ .Permalink }}">
<link rel="shortcut icon" href="/favicon.png" type="image/png">
{{ hugo.Generator }}
{{ with .OutputFormats.Get "rss" -}}
{{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
{{ end -}}

{{ if $isEventRoot }}
{{ $name     := .Title }}
{{ $start    := .Date }}
{{ $desc     := .Params.description }}
{{ $end      := time .Params.end }}
{{ $location := .Params.location }}
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Event",
    "name": "{{ $name }}",
    "startDate": "{{ $start }}",
    {{ with $desc }}
    "description": "{{ . }}",
    {{ end }}
    {{ with $end }}
    "endDate": "{{ . }}",
    {{ end }}
    "location": {
      "@type": "Place"
    }
  }
</script>
{{ end }}
